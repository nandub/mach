2003-12-05  Enrico Scholz  <enrico.scholz@informatik.tu-chemnitz.de>

	* Makefile.am: Add ACLOCAL_AMFLAGS so the auto* system can be
	(re)created with "autoreconf -i -f".

2003-12-27  Ville Skyttä  <ville dot skytta at iki dot fi>

	* scripts/mach.in: Make the rpmbuild command inside roots
	configurable using root_rpmbuild to support older distros which
	don't have "rpmbuild".
	* etc/dist: Set root_rpmbuild to "rpm" for SuSE 8.1 and 8.2.

	* scripts/mach.in (_setup_build): Ensure that /etc/rpm exists so
	copying our macros works as expected.

	* scripts/mach.in (rebuild): Don't bother ordering the order and
	interdependencies for packages from the CLI if only one is given;
	avoids one potentially troublesome "rpm --specfile" call.

2003-12-21  Ville Skyttä  <ville dot skytta at iki dot fi>

	* scripts/mach.in (rebuild): Don't fail if package has no build
	requirements.
	* etc/dist: Add Conectiva Linux 9.

2003-12-17  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist: Add JPackage for Fedora Core 1.

2003-12-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.in: release 0.4.3, "Hot Water"

2003-12-11  Thomas Vander Stichele <thomas at apestaart dot org>

	* src/mach-helper.c: fix strstr comparison warnings
	* scripts/mach.in: try removing kernel from allowed duplicates
	to fix the "can't install kernel" problem for only one kernel

2003-12-11  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: catch CycleError and explain what happens

2003-12-11  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: also pass rpm build options to .src.rpm building

2003-12-11  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: applied patch from Panu Matilainen to add
	number of CPU's on host to rpmbuild incantation

2003-12-04  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/conf.in: rename default root to fedora-1-i386-core
	* etc/dist: add/fix fedora core 1 roots
	* scripts/mach.in: parse name/version/release based on rpm options

2003-12-02  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: Fix some code style issues

2003-12-01  Enrico Scholz  <enrico.scholz@informatik.tu-chemnitz.de>

	* scripts/mach.in: Add configurable hooks to different
	build phases.

2003-12-01  Ville Skyttä  <ville dot skytta at iki dot fi>

	* scripts/mach.in (rebuild): Prepend a dot to the string which is
	used to determine whether the release "disttag" already exists.

	* scripts/mach.in (build): Let SRPM build failure error fall
	through here.

2003-12-30  Enrico Scholz  <enrico.scholz@informatik.tu-chemnitz.de>

	* scripts/mach.in (rebuild): Raise an error instead of returning
	false when an SRPM build fails.

2003-11-29  Enrico Scholz  <enrico.scholz@informatik.tu-chemnitz.de>

	* scripts/mach.in (main): Add --canonify option; it outputs
	the canonical name of an (aliased) buildroot name.

	* scripts/mach.in (main): Give precedence to options specified
	on the command line over the ones in config files.

2003-11-29  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/conf.in: Make fedora-1-i386 the default root.

	* scripts/mach.in (rebuild): Improve release mangling regexp,
	it is now less likely to mangle other stuff than the actual release
	tag, and tolerates trailing whitespace.

2003-11-21  Enrico Scholz  <enrico.scholz@informatik.tu-chemnitz.de>

	* scripts/mach.in: Some small corrections to fix the syntax
	highlighting in XEmacs' python mode.

2003-11-21  Paul Nasrat  <pauln at truemesh dot com>

	* scripts/mach.in (BuildRequires): Avoid TypeErrors for packages
	without build dependencies by returning an empty list instead of None.

2003-11-21  Ville Skyttä  <ville dot skytta at iki dot fi>

	* scripts/mach.in (rebuild): Use a login shell in order to get a
	sane vanilla environment (eg. /usr/X11R6/bin in $PATH).
	Kudos to Enrico Scholz.

2003-11-16  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist: Add a bunch of aliases for RH 8.0 and 9 repos.

2003-11-13  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist: Add Fedora Core 1, remove 0.9x betas.
	* etc/dist: Add fedora-rpmdevtools to fedora.us build packages,
	remove explicit gcc-c++ and redhat-rpm-config.

2003-10-21  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/dist: move initialization of config per dist to dist
	* etc/dist: add Fedora Core 0.95

2003-10-13  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist: Make fedora(.us) repos for RH 8.0 and 9 inherit from
	updates, add gcc-c++ and redhat-rpm-config to build packages.

2003-10-06  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/dist: add sh-utils to 7.0 so su works
	* scripts/mach.in: make runs of apt-get from outside check for base

2003-10-06  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/dist: patch from Matthias Saou
	  - add RH70, RH71, RH72
	  - add YD23, YD30

2003-10-04  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	  - make apt-get from command line run interactively
	  - get rid of file checks of tar files, it doesn't work on severn
	  - check for arguments on build and rebuild
	  - implemented "status" for all roots combined
	  - check for not properly built src.rpm
	  - change permissions on copied sources

2003-10-03  Thomas Vander Stichele  <thomas at apestaart dot org>

	* mach.spec.in: dirs permissions fixes
	* scripts/mach.in: unlock root on successful build
	* src/mach-helper.c: only refuse ".." in mach-helper
	* etc/dist: add Fedora Core 0.94

2003-09-17  Thomas Vander Stichele  <thomas at apestaart dot org>

	* mach.spec.in: fix up spec file

2003-09-08  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.ac: 0.4.0 release

2003-09-07  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	* etc/dist:
	  - allow shortcut aliases in -r, for example rh9

2003-09-07  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	  - refactor splitargs code
	  - added KeyboardInterrupt to catch ctrl-c
	  - reinstate proc
	  - remove bootstrap checks and code
	  - make minimal and base targets
	  - remove consistency target
	  - check for su before chrooting
	* etc/dist: add/fix minimal, base and build package sets

2003-09-06  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: implemented -q, --quiet

2003-09-06  Thomas Vander Stichele  <thomas at apestaart dot org>

	* tests/*: start creating torture tests for mach

2003-09-06  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	  - remove use agent for signing until we figure it out
	  - also copy and md5sum spec file to results dir

2003-08-17  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist:
	  - Add JPackage configuration for RH 7.2 - 9.
	  - Use base URLs for easier configurability.

2003-08-17  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	  - do tar.gz checking
	  - apt-get update before installing buildrequires

2003-08-16  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: fix %define scan

2003-08-13  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	  - hack around spec file extraction from src.rpm
	  - filter out buildrequires: requiring package under build

2003-08-13  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in:
	  - fix KeyError catching for other errors
	  - fix KeyError in variable expansion

2003-08-13  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: reorder some build orders, should standardize
	this in general

2003-08-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/dist: removing all base and apt from Red Hat targets
	* scripts/mach.in:
	  - do more expansion of define'd variables in spec file
	  - mounting isn't done anymore, should be removed
	  - only recreate config file if it doesn't exist yet
	  - only mangle spec release if it doesn't match yet
	  - don't GPG check when installing to satisfy buildreqs

2003-08-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: clean up Axel Thimm's bits to make mach work
	without sets of base/apt packages

2003-08-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: add _bruteclean to use mach-helper to remove
	a root in case it can't remove itself

2003-08-07  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: don't fail unlock if not locked
	* src/mach-helper.c: print out root files should be under when failing

2003-08-01  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: various small fixes from Axel Thimm

2003-08-01  Thomas Vander Stichele  <thomas at apestaart dot org>

	* mach.spec.in: patch from Axel Thimm to fix small issues

2003-07-24  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: use machbuild in place of mach inside build root

2003-07-18  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: fix case when src.rpm/spec has no BuildRequires:

2003-07-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: pass on options from build/rebuild to rpmbuild

2003-07-15  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.in:
	* scripts/mach.in: check for suidness of mach-helper binary

2003-07-10  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/dist: added pam rpm to base of rh72 dists so that shell utils
	work

2003-06-21  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist:
	Move build packages here instead of hardcoding them in mach.
	* scripts/mach.in (_setup_build): Ditto.

	* etc/dist: Add SuSE 8.1 and 8.2 configs.

2003-06-20  Ville Skyttä  <ville dot skytta at iki dot fi>

	* scripts/mach.in (BuildRequires): Fix BuildRequires filtering.

2003-06-06  Ville Skyttä  <ville dot skytta at iki dot fi>

	* etc/dist: Add sh-utils to redhat-72-i386* and redhat-73-i386
	base packages in order to be able to 'su' in the chroot.

2003-06-04  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/conf.in: initialize dist-specific configs
	* scripts/mach.in: use gpg-agent to clearsign, sign all packages 
	in one go, delete old signed md5sums

2003-06-03  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: implement config[target] specific config,
	remove chrootcmds, implement release mangling with --release
	* etc/conf.in: remove chrootcmds, add release mangling for fedora

2003-06-03  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: fix some places where / was forgotten now that
	$HOME is set, clear RPM::Pre-Install-Pkgs so GPG's aren't checked
	* src/mach-helper.c (do_command): added HOME env var because fc-cache
	segfaults if it's not set

2003-06-02  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: added signing and collecting of packages

2003-05-29  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: fix setup not handling arg properly

2003-05-25  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: do proper build ordering by parsing specfiles
	for their generated results

2003-05-24  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: lots of bugfixes

2003-05-22  Thomas Vander Stichele  <thomas at apestaart dot org>

	* src/mach-helper.c: created
	* scripts/mach.in: make use of mach-helper

2003-05-21  Thomas Vander Stichele  <set EMAIL_ADDRESS environment variable>

	* etc/Makefile.am: reworked config
	* etc/apt: reworked config
	* etc/conf.in: reworked config
	* etc/packages: reworked config
	* scripts/mach.in: reworked large parts, started objectifying Root,
	use host's apt and rpm to manipulate root packages

2003-05-13  Thomas Vander Stichele  <thomas at apestaart dot org>

	* scripts/mach.in: use rpm2cpio to extract an rpm matching the target
	platform to install packages with.  This also uses a nasty chroot
	hack, so this ought to be thought through.

2003-05-12  Ville Skyttä  <ville dot skytta at iki dot fi>

	* scripts/mach.in:
	Don't exit from setup_consistency if the commands succeed :)
	Use the -H argument to sudo for better non-root experience.
	Fix unlock target by introducing a dummy 2nd argument.

	* etc/packages:
	* scripts/mach.in:
	Implement configurable per-distro build packages, and add
	Fedora ones to default packages config.

2003-05-12  Thomas Vander Stichele  <thomas at apestaart dot org>

	* configure.in:
	* etc/Makefile.am:
	* etc/conf:
	* etc/conf.in: autogenerate conf from conf.in
	* mach.spec.in: make all dirs FHS-compliant
	* scripts/mach.in: make all dirs FHS-compliant

2003-05-12  Thomas Vander Stichele  <thomas at apestaart dot org>

	* etc/conf: add /usr/bin/apt-sigchecker as generated files, default
	to letting everything pass
	* scripts/mach.in: add function to regenerate any file in
	config['files'] and use it for apt-sigchecker

2003-05-12  Thomas Vander Stichele  <thomas at apestaart dot org>

	* add global /bin/bash -c '...' wrapping
	* use LD_ASSUME_KERNEL=2.2.5 for any installing/querying;
	this ought to be configurable somehow

2003-05-11  Ville Skyttä  <ville dot skytta at iki dot fi>

	* Force queryformat for rpm -q, users may have customized formats
	which will confuse mach.
	* Add (X)Emacs python mode cookies to config files.

2003-05-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* added .machrc in home dir parsing

2003-05-09  Ville Skyttä  <ville dot skytta at iki dot fi>

	* Use apt's "rpm-dir" indextype to create a local mini-repo inside the 
	chroot.  This way, we can install the binary packages and their
	dependencies just by doing a "apt-get install foo".
	* Put all URL retrieval operations into a new urlgrab function, which
	tries to preserve timestamps of the downloads.
	* Use shutil.copy2 instead of copy, again for preserving timestamps.
	* Add --clean to rpmbuild --rebuild.

2003-05-09  Thomas Vander Stichele  <thomas at apestaart dot org>

	* added ASCII spinner themes
	* add more dists and rework config file for it
	* make each root download in a different packages dir

2003-05-02  Thomas Vander Stichele  <thomas at apestaart dot org>

	* implemented a progress indicator as output
	* implemented snapshot of "build" target with auto-return to it
	on setup build

2003-04-30  Thomas Vander Stichele  <thomas at apestaart dot org>

	* rewrite in python
